<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Notas de corte Madrid</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script type="text/javascript" src="grados_universitarios.js"></script>
    <!-- My stuff -->
    <link rel="stylesheet" href="style.css">
    <script>
      let flag = 'ucm';
      let grados = grados_universitarios[flag];
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <div class="navbar-brand user-select-none">Histórico de notas de corte de Madrid</div>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="https://github.com/homomorfismo/historico_notas_madrid/">Repositorio</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <main class='container'>
      <div class='container mt-5 mb-5 text-center'>
        <p class='lead'>¿Cómo ha evolucionado en la
          <select id='universidad' class="form-select" aria-label="Default select example">
            <option class='universidades' id="uah" value ='uah' >UAH</option>
            <option class='universidades' id="uam" value ='uam' >UAM</option>
            <option class='universidades' id="uc3m" value ='uc3m' >UC3M</option>
            <option selected class='universidades' id='ucm' value ='ucm' >UCM</option>
            <option class='universidades' id='urjc' value ='urjc' >URJC</option>
            <option class='universidades' id='upm' value ='upm' >UPM</option>
          </select>
        la nota de corte del grado de
          <select class='form-select text-center' id="gradoslist">
            <script>
              let options = '';
              let gradoslist = document.getElementById('gradoslist');
              let universidad = document.getElementById('universidad');
              universidad.addEventListener('change', function(){
                  options = ''
                  flag = this.value;
                  grados = grados_universitarios[flag];
                  options += '<option selected value="' +0+ '">'+grados[0]+'</option>';
                  for (let k = 1; k < grados.length-1; k++) {
                    options += '<option value="' +k + '">'+grados[k]+'</option>';
                  }
                  gradoslist.innerHTML = options;
                  document.getElementById('plot_container').innerHTML = "<img class='img-fluid' src='plots/"+flag+"/"+grados[0]+".svg'></img>";
                });
            </script>
            <script>
              options += '<option selected value="' +0 + '">'+grados[0]+'</option>';
                for (let k = 1; k < grados.length-1; k++) {
                  options += '<option value="' +k + '">'+grados[k]+'</option>';
                }
                gradoslist.innerHTML = options;
            </script>
          </select>?
        </p>
      </div>
      </div>
      <div class="container text-center" id ='plot_container'>
        <script>
          document.getElementById('plot_container').innerHTML = "<img class='img-fluid' src='plots/"+flag+"/"+grados[0]+".svg'></img>";
          
          gradoslist.addEventListener('change', function(){
            //document.getElementById('plot_container').innerHTML = "<iframe class='ratio ratio-16x9' style='width:100%' src='"+grados[this.value]+"' frameborder='0'></iframe>";
            document.getElementById('plot_container').innerHTML = "<img class='img-fluid' src='plots/"+flag+"/"+grados[this.value]+".svg'></img>";

          });
        </script>
      </div>
    </main>
  </body>
</html>
